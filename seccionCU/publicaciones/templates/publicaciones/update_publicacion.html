{% extends 'publicaciones/nav.html'%}

{% load static %}
{% load crispy_forms_tags %}

{%block content%}
    <!-- luego lo pasas a otro lado xd-->
    <style>
    #imagen_publicacion{
        display: block;
        width: 20%;
    }
    </style>

    {% if messages %}
    <ul class="messages">
        {% for message in messages %}
        <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    
    <h1 class="text-config">Actualizacion publicacion</h1>

    <div class="form-content">
        <form method="POST" enctype="multipart/form-data" name = "form_update">
            {% csrf_token %}
            <div class="form-config">
            
                <div class="form-config2">
                    {{form|crispy}}    
                    <button type="submit" class="btn btn-dark btn-lg btn-config" >Guardar Cambios</button>
                </div>
                
            </div>
        </form>
    </div>


    <script>
        if(document.querySelector("#div_id_imagen > div")){
            elemento = document.querySelector("#div_id_imagen > div");
            elemento_a = elemento.getElementsByTagName("a");
            elemento_a[0].innerHTML = "<img src= "+ elemento_a[0].href + " id ='imagen_publicacion' >"
        }
    </script>
{%endblock%}